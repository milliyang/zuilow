# ============================================================
# Paper Trade Environment Configuration
# ============================================================
# 复制此文件为 .env 并填入实际值

# Flask Configuration
FLASK_APP=app.py
FLASK_ENV=development
FLASK_DEBUG=True
# 生成: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-in-production

# Data Storage (SQLite)
DB_FILE=run/db/paper_trade.db

# Server
HOST=0.0.0.0
PORT=11182

# Webhook 认证 (生产环境必须设置)
# 生成: python -c "import secrets; print(secrets.token_urlsafe(32))"
WEBHOOK_TOKEN=

# ============================================================
# 用户认证 (网页登录)
# ============================================================
# 配置文件: config/users.yaml
# 角色: admin (全部权限) / viewer (只读)
# 密码生成: python -c "from werkzeug.security import generate_password_hash; print(generate_password_hash('your_password'))"
#
# 默认用户:
#   admin / admin123 (admin)
#   viewer / admin123 (viewer)

# ============================================================
# 行情：从 DMS 取价 (PPT+DMS 组合 broker)
# ============================================================
# 设置后，get_quote/get_quotes_batch 从 DMS 的 read/batch 取最后一根 K 线 Close。
# 仿真模式下带 as_of 与模拟时间一致。
# Local: http://localhost:11183. Docker: use host-accessible URL (e.g. http://host.docker.internal:11183 or http://dms:11183); leave empty to disable DMS quotes.
DMS_BASE_URL=http://localhost:11183
# 若 DMS 启用 X-API-Key 鉴权，可设:
DMS_API_KEY=your-dms-api-key

# ============================================================
# 净值自动更新定时任务
# ============================================================
# 格式: "时:分,时:分,时:分" (北京时间)
# 美股: 5:0,21:30,0:0 (收盘后、开盘前)
# 港股: 9:30,12:0,16:0
# 禁用: off
EQUITY_UPDATE_SCHEDULE=5:0,21:30,0:0

# ============================================================
# OpenTimestamps 时间戳定时任务
# ============================================================
# 格式: "时:分" 或 "时:分,时:分" 或 "时:分:标签,时:分:标签"
# 示例:
#   - 16:0                    # 单个时间点（16:00）
#   - 16:0,22:0               # 多个时间点（16:00 和 22:00）
#   - 16:0:us_market,22:0:hk_market  # 带标签的多个时间点
# 禁用: off
OTS_TIMESTAMP_SCHEDULE=16:0

# Logging
LOG_LEVEL=INFO
LOG_FILE=run/logs/paper_trade.log

# Rate Limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_DEFAULT=100/minute

# Security
CORS_ORIGINS=*

# ============================================================
# Cash 页面: 资金操作 (deposit/withdraw/reset) 在 /cash，仅 admin 可访问
# ============================================================

